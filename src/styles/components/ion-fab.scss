@use '../utils/api';

$scaleup-small-icon-only: 1.18;
$scaleup-default-icon-only: 1.2;
$scaleup-large-icon-only: 1.12;

ion-fab.ios:not(.ios26-disabled) {
  ion-fab-button {
    --transition:
      var(--ios26-activated-transition-duration) transform cubic-bezier(0.25, 1.11, 0.78, 1.59),
      var(--ios26-activated-transition-duration) color ease;
    --background-activated-opacity: 0;
    --background-focused-opacity: 0;
    --background-hover-opacity: 0;

    --color: rgb(var(--ion-text-color-rgb, 0, 0, 0));

    /**
     * 60px + border0.5px + 0.5px
     */
    width: 61px;
    height: 61px;

    &.fab-button-in-list,
    &.fab-button-small {
      width: 48px;
      height: 48px;
    }

    &.ion-activated {
      --color: rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1);
      &::part(native) {
        transform: scale($scaleup-default-icon-only) translateZ(0);
        -webkit-transform: scale($scaleup-default-icon-only) translateZ(0);
      }
      &.fab-button-large {
        &::part(native) {
          transform: scale($scaleup-large-icon-only) translateZ(0);
          -webkit-transform: scale($scaleup-large-icon-only) translateZ(0);
        }
      }
      &.fab-button-small {
        &::part(native) {
          transform: scale($scaleup-small-icon-only) translateZ(0);
          -webkit-transform: scale($scaleup-small-icon-only) translateZ(0);
        }
      }
      &.ion-color {
        --color: rgba(var(--ion-color-base-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.1);
      }
    }

    &::part(native) {
      @include api.glass-background;
    }
  }

  &.fab-vertical-top {
    top: var(--ios26-floating-safe-area-top);
  }

  &.fab-vertical-bottom {
    bottom: var(--ios26-floating-safe-area-bottom);
  }

  &.fab-horizontal-start {
    left: calc(16px + var(--ion-safe-area-left, 0px));
  }

  &.fab-horizontal-end {
    right: calc(16px + var(--ion-safe-area-right, 0px));
  }

  &:has(.fab-button-small) {
    &.fab-horizontal-start {
      left: calc(10px + var(--ion-safe-area-left, 0px));
    }

    &.fab-horizontal-end {
      right: calc(10px + var(--ion-safe-area-right, 0px));
    }
  }
}
